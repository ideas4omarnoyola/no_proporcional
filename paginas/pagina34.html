<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Página 34</title>

    <!-- Estilos -->
    <link rel="stylesheet" href="../css/estilos.css">

    <!-- Librerias -->
    <script src="../js/librerias/jquery.min.js"></script>
    <script src="../js/librerias/jquery-ui.min.js"></script>
    <script src="../js/librerias/jquery.ui.touch-punch.min.js"></script>
    <script src="../js/librerias/gsap.min.js"></script>

    <!-- Script de animaciones -->
    <script src="../js/animaciones.js"></script>
    <!-- Scripts posicionar elementos -->
    <script src="../js/redimensionarElementos.js"></script>
    <script src="../js/posicionar.js"></script>

</head>
<body class="pagina">

    <img class="elementos" id="titulo" src="../img/pagina34/titulo.png" data-posX="0" data-posY="0"/>
    <img class="elementos" id="imagen" src="../img/pagina34/imagen.png" data-posX="0" data-posY="0"/>
    <img class="elementos" id="texto" src="../img/pagina34/texto.png" data-posX="0" data-posY="0"/>
    <img class="elementos" id="btnIniciar" src="../img/pagina34/btnIniciar.png" data-posX="790" data-posY="430"/>

    <!-- Pregunta 1 -->
    <img class="elementos" id="p1" src="../img/pagina34/p1.png" data-posX="0" data-posY="0"/>
    <img class="elementos" id="paloma1" src="../img/pagina34/paloma.png" data-posX="350" data-posY="270"/>
    <img class="elementos" id="tache1" src="../img/pagina34/tache.png" data-posX="350" data-posY="320"/>
    <div class="elementos respuestas" id="r1_a" data-posX="100" data-posY="270"></div>
    <div class="elementos respuestas" id="r1_b" data-posX="100" data-posY="320"></div>

    <!-- Pregunta 2 -->
    <img class="elementos" id="p2" src="../img/pagina34/p2.png" data-posX="0" data-posY="0"/>
    <img class="elementos" id="paloma2" src="../img/pagina34/paloma.png" data-posX="600" data-posY="310"/>
    <img class="elementos" id="tache2" src="../img/pagina34/tache.png" data-posX="600" data-posY="260"/>
    <div class="elementos respuestas" id="r2_a" data-posX="100" data-posY="260"></div>
    <div class="elementos respuestas" id="r2_b" data-posX="100" data-posY="310"></div>

    <!-- Pregunta 3 -->
    <img class="elementos" id="p3" src="../img/pagina34/p3.png" data-posX="0" data-posY="0"/>
    <img class="elementos" id="paloma3" src="../img/pagina34/paloma.png" data-posX="600" data-posY="390"/>
    <img class="elementos" id="tache3" src="../img/pagina34/tache.png" data-posX="600" data-posY="340"/>
    <img class="elementos" id="tache3_1" src="../img/pagina34/tache.png" data-posX="600" data-posY="445"/>
    <div class="elementos respuestas" id="r3_a" data-posX="100" data-posY="340"></div>
    <div class="elementos respuestas" id="r3_b" data-posX="100" data-posY="390"></div>
    <div class="elementos respuestas" id="r3_c" data-posX="100" data-posY="445"></div>

    <!-- Pregunta 4 -->
    <img class="elementos" id="p4" src="../img/pagina34/p4.png" data-posX="0" data-posY="0"/>
    <img class="elementos" id="paloma4" src="../img/pagina34/paloma.png" data-posX="350" data-posY="310"/>
    <img class="elementos" id="tache4" src="../img/pagina34/tache.png" data-posX="350" data-posY="260"/>
    <div class="elementos respuestas" id="r4_a" data-posX="100" data-posY="260"></div>
    <div class="elementos respuestas" id="r4_b" data-posX="100" data-posY="310"></div>

    <!-- Pregunta 5 -->
    <img class="elementos" id="p5" src="../img/pagina34/p5.png" data-posX="0" data-posY="0"/>

    <div class="elementos respuestasDrag" id="drop3" data-posX="380" data-posY="150" data-lugar="3"></div>
    <div class="elementos respuestasDrag" id="drop6" data-posX="380" data-posY="195" data-lugar="6"></div>
    <div class="elementos respuestasDrag" id="drop2" data-posX="380" data-posY="240" data-lugar="2"></div>
    <div class="elementos respuestasDrag" id="drop5" data-posX="380" data-posY="300" data-lugar="5"></div>
    <div class="elementos respuestasDrag" id="drop1" data-posX="380" data-posY="370" data-lugar="1"></div>
    <div class="elementos respuestasDrag" id="drop4" data-posX="380" data-posY="430" data-lugar="4"></div>

    <img class="elementos drags" id="drag1" src="../img/pagina34/drag1.png" data-posX="700" data-posY="160" data-lugar="1"/>
    <img class="elementos drags" id="drag2" src="../img/pagina34/drag2.png" data-posX="730" data-posY="210" data-lugar="2"/>
    <img class="elementos drags" id="drag3" src="../img/pagina34/drag3.png" data-posX="700" data-posY="260" data-lugar="3"/>
    <img class="elementos drags" id="drag4" src="../img/pagina34/drag4.png" data-posX="730" data-posY="310" data-lugar="4"/>
    <img class="elementos drags" id="drag5" src="../img/pagina34/drag5.png" data-posX="700" data-posY="360" data-lugar="5"/>
    <img class="elementos drags" id="drag6" src="../img/pagina34/drag6.png" data-posX="730" data-posY="410" data-lugar="6"/>

    <img class="elementos iconos" id="paloma5_3" src="../img/pagina34/paloma.png" data-posX="340" data-posY="150"/>
    <img class="elementos iconos" id="paloma5_6" src="../img/pagina34/paloma.png" data-posX="340" data-posY="195"/>
    <img class="elementos iconos" id="paloma5_2" src="../img/pagina34/paloma.png" data-posX="340" data-posY="240"/>
    <img class="elementos iconos" id="paloma5_5" src="../img/pagina34/paloma.png" data-posX="340" data-posY="300"/>
    <img class="elementos iconos" id="paloma5_1" src="../img/pagina34/paloma.png" data-posX="340" data-posY="370"/>
    <img class="elementos iconos" id="paloma5_4" src="../img/pagina34/paloma.png" data-posX="340" data-posY="430"/>
    <img class="elementos iconos" id="tache5_3" src="../img/pagina34/tache.png" data-posX="340" data-posY="150"/>
    <img class="elementos iconos" id="tache5_6" src="../img/pagina34/tache.png" data-posX="340" data-posY="195"/>
    <img class="elementos iconos" id="tache5_2" src="../img/pagina34/tache.png" data-posX="340" data-posY="240"/>
    <img class="elementos iconos" id="tache5_5" src="../img/pagina34/tache.png" data-posX="340" data-posY="300"/>
    <img class="elementos iconos" id="tache5_1" src="../img/pagina34/tache.png" data-posX="340" data-posY="370"/>
    <img class="elementos iconos" id="tache5_4" src="../img/pagina34/tache.png" data-posX="340" data-posY="430"/>

    <!-- Pregunta 6 -->
    <img class="elementos" id="p6" src="../img/pagina34/p6.png" data-posX="0" data-posY="0"/>
    <img class="elementos" id="paloma6" src="../img/pagina34/paloma.png" data-posX="350" data-posY="300"/>
    <img class="elementos" id="tache6" src="../img/pagina34/tache.png" data-posX="350" data-posY="350"/>
    <img class="elementos" id="tache6_1" src="../img/pagina34/tache.png" data-posX="350" data-posY="395"/>
    <div class="elementos respuestas" id="r6_a" data-posX="100" data-posY="300"></div>
    <div class="elementos respuestas" id="r6_b" data-posX="100" data-posY="350"></div>
    <div class="elementos respuestas" id="r6_c" data-posX="100" data-posY="395"></div>

    <!-- Pregunta 7 -->
    <img class="elementos" id="p7" src="../img/pagina34/p7.png" data-posX="0" data-posY="0"/>
    <img class="elementos" id="paloma7" src="../img/pagina34/paloma.png" data-posX="350" data-posY="395"/>
    <img class="elementos" id="tache7" src="../img/pagina34/tache.png" data-posX="350" data-posY="300"/>
    <img class="elementos" id="tache7_1" src="../img/pagina34/tache.png" data-posX="350" data-posY="350"/>
    <div class="elementos respuestas" id="r7_a" data-posX="100" data-posY="303"></div>
    <div class="elementos respuestas" id="r7_b" data-posX="100" data-posY="358"></div>
    <div class="elementos respuestas" id="r7_c" data-posX="100" data-posY="403"></div>

    <!-- Retroalimentacion -->
    <img class="elementos" id="retroBuena" src="../img/pagina34/retroBuena.png" data-posX="0" data-posY="0"/>
    <img class="elementos" id="retroMala" src="../img/pagina34/retroMala.png" data-posX="0" data-posY="0"/>
    <img class="elementos" id="btnReintentar" src="../img/pagina34/btnReintentar.png" data-posX="790" data-posY="430"/>
    <div class="elementos" id="calificacionFinal"></div>
    
    <!-- Script de la página -->
    <script>

        // Variable----------------------------------------------------
        let aplicacion = parent;
        const titulo = $('#titulo');
        const imagen = $('#imagen');
        const texto = $('#texto');
        const btnIniciar = $('#btnIniciar');

        const p1 = $('#p1');
        const r1_a = $('#r1_a');
        const r1_b = $('#r1_b');
        const paloma1 = $('#paloma1');
        const tache1 = $('#tache1');
        const p2 = $('#p2');
        const r2_a = $('#r2_a');
        const r2_b = $('#r2_b');
        const paloma2 = $('#paloma2');
        const tache2 = $('#tache2');
        const p3 = $('#p3');
        const r3_a = $('#r3_a');
        const r3_b = $('#r3_b');
        const r3_c = $('#r3_c');
        const paloma3 = $('#paloma3');
        const tache3 = $('#tache3');
        const tache3_1 = $('#tache3_1');
        const p4 = $('#p4');
        const r4_a = $('#r4_a');
        const r4_b = $('#r4_b');
        const paloma4 = $('#paloma4');
        const tache4 = $('#tache4');
        const p5 = $('#p5');
        const p6 = $('#p6');
        const r6_a = $('#r6_a');
        const r6_b = $('#r6_b');
        const r6_c = $('#r6_c');
        const paloma6 = $('#paloma6');
        const tache6 = $('#tache6');
        const tache6_1 = $('#tache6_1');
        const p7 = $('#p7');
        const r7_a = $('#r7_a');
        const r7_b = $('#r7_b');
        const r7_c = $('#r7_c');
        const paloma7 = $('#paloma7');
        const tache7 = $('#tache7');
        const tache7_1 = $('#tache7_1');

        const iconos = $('.iconos');
        const calificacionFinal = $('#calificacionFinal');
        const retroBuena = $('#retroBuena');
        const retroMala = $('#retroMala');
        const btnReintentar = $('#btnReintentar');

        const drags = $('.drags');
        const drag1 = $('#drag1');
        const drag2 = $('#drag2');
        const drag3 = $('#drag3');
        const drag4 = $('#drag4');
        const drag5 = $('#drag5');
        const drag6 = $('#drag6');
        const respuestasDrag = $('.respuestasDrag');
        respuestasDrag.css({
            'width': '240px', 
            'height': '40px',
            'background': '#9e7342',
            'borderRadius': '5px'
        })

        const respuestas = $('.respuestas');
        r1_a.css({
            'width': '200px',
            'height': '42px'
        });
        r1_b.css({
            'width': '200px',
            'height': '42px'
        });
        r2_a.css({
            'width': '500px',
            'height': '42px'
        });
        r2_b.css({
            'width': '500px',
            'height': '42px'
        });
        r3_a.css({
            'width': '500px',
            'height': '42px'
        });
        r3_b.css({
            'width': '500px',
            'height': '42px'
        });
        r3_c.css({
            'width': '500px',
            'height': '42px'
        });
        r4_a.css({
            'width': '200px',
            'height': '42px'
        });
        r4_b.css({
            'width': '200px',
            'height': '42px'
        });
        r6_a.css({
            'width': '500px',
            'height': '42px'
        });
        r6_b.css({
            'width': '500px',
            'height': '42px'
        });
        r6_c.css({
            'width': '500px',
            'height': '42px'
        });
        r7_a.css({
            'width': '500px',
            'height': '42px'
        });
        r7_b.css({
            'width': '500px',
            'height': '42px'
        });
        r7_c.css({
            'width': '500px',
            'height': '42px'
        });

        let dragSelect;
        let dropSelect;
        let aciertos = 0;
        let dragsColocados = 0;

        // Audios------------------------------------------------------
        const audio = [
            new Audio('../audios/P34_1.mp3'),
            new Audio('../audios/P34_2.mp3'),
            new Audio('../audios/P34_3.mp3'),
            new Audio('../audios/bien.mp3'),
            new Audio('../audios/mal.mp3')
        ]

        // Al cargarse la página
        $(window).on("load", function(){
            redimensionarElementos();
            aplicacion.desactivarBotonAtras();
            aplicacion.cargando(iniciarContenido);
        });

        function iniciarContenido(){
            aplicacion.reproducirAudio(audio[0], activarIniciar, 2);
            animacionEntrada(titulo, 'izquierda-derecha', 1, 1);
            animacionEntrada(imagen, 'izquierda-derecha', 1, 1);
            animacionEntrada(texto, 'izquierda-derecha', 1, 1);
        }

        function activarIniciar(){
            parpadear(btnIniciar);
        }

        btnIniciar.click(function(){
            if(btnIniciar.css('cursor') == 'pointer'){
                dejarParpadear(btnIniciar);
                animacionSalida(titulo, 'default', 1);
                animacionSalida(texto, 'default', 1);
                animacionSalida(btnIniciar, 'default', 1);

                entradaP1();
            }
        });

        // Pregunta 1--------------------------------------------------------
        function entradaP1(){
            animacionEntrada(p1, 'default', 1, 1);
            animacionEntrada(r1_a, 'default', 1, 1);
            animacionEntrada(r1_b, 'default', 1, 1);
            setTimeout(()=>{
                respuestas.css('cursor', 'pointer');
            }, 1000);
        }

        r1_a.click(function(){
            if(r1_a.css('cursor') == 'pointer'){
                audio[3].play();
                animacionEntrada(paloma1, 'default', 1);
                aciertos++;
                respuestas.css('cursor', 'default');
                entradaP2();
            }
        });

        r1_b.click(function(){
            if(r1_b.css('cursor') == 'pointer'){
                audio[4].play();
                animacionEntrada(tache1, 'default', 1);
                respuestas.css('cursor', 'default');
                entradaP2();
            }
        });

        // Pregunta 2--------------------------------------------------------
        function entradaP2(){
            animacionSalida(p1, 'default', 1, 2);
            animacionSalida(r1_a, 'default', 1, 2);
            animacionSalida(r1_b, 'default', 1, 2);
            animacionSalida(paloma1, 'default', 1, 2);
            animacionSalida(tache1, 'default', 1, 2);
            
            animacionEntrada(p2, 'default', 1, 2);
            animacionEntrada(r2_a, 'default', 1, 2);
            animacionEntrada(r2_b, 'default', 1, 2);
            setTimeout(()=>{
                respuestas.css('cursor', 'pointer');
            }, 2000);
        }

        r2_a.click(function(){
            if(r2_a.css('cursor') == 'pointer'){
                audio[4].play();
                animacionEntrada(tache2, 'default', 1);
                respuestas.css('cursor', 'default');
                entradaP3();
            }
        });

        r2_b.click(function(){
            if(r2_b.css('cursor') == 'pointer'){
                audio[3].play();
                animacionEntrada(paloma2, 'default', 1);
                aciertos++;
                respuestas.css('cursor', 'default');
                entradaP3();
            }
        });

        // Pregunta 3--------------------------------------------------------
        function entradaP3(){
            animacionSalida(p2, 'default', 1, 2);
            animacionSalida(r2_a, 'default', 1, 2);
            animacionSalida(r2_b, 'default', 1, 2);
            animacionSalida(paloma2, 'default', 1, 2);
            animacionSalida(tache2, 'default', 1, 2);
            
            animacionEntrada(p3, 'default', 1, 2);
            animacionEntrada(r3_a, 'default', 1, 2);
            animacionEntrada(r3_b, 'default', 1, 2);
            animacionEntrada(r3_c, 'default', 1, 2);
            setTimeout(()=>{
                respuestas.css('cursor', 'pointer');
            }, 2000);
        }

        r3_a.click(function(){
            if(r3_a.css('cursor') == 'pointer'){
                audio[4].play();
                animacionEntrada(tache3, 'default', 1);
                respuestas.css('cursor', 'default');
                entradaP4();
            }
        });

        r3_b.click(function(){
            if(r3_b.css('cursor') == 'pointer'){
                audio[3].play();
                animacionEntrada(paloma3, 'default', 1);
                aciertos++;
                respuestas.css('cursor', 'default');
                entradaP4();
            }
        });
        
        r3_c.click(function(){
            if(r3_c.css('cursor') == 'pointer'){
                audio[4].play();
                animacionEntrada(tache3_1, 'default', 1);
                respuestas.css('cursor', 'default');
                entradaP4();
            }
        });

        // Pregunta 4--------------------------------------------------------
        function entradaP4(){
            animacionSalida(p3, 'default', 1, 2);
            animacionSalida(r3_a, 'default', 1, 2);
            animacionSalida(r3_b, 'default', 1, 2);
            animacionSalida(r3_c, 'default', 1, 2);
            animacionSalida(paloma3, 'default', 1, 2);
            animacionSalida(tache3, 'default', 1, 2);
            animacionSalida(tache3_1, 'default', 1, 2);
            
            animacionEntrada(p4, 'default', 1, 2);
            animacionEntrada(r4_a, 'default', 1, 2);
            animacionEntrada(r4_b, 'default', 1, 2);
            setTimeout(()=>{
                respuestas.css('cursor', 'pointer');
            }, 2000);
        }

        r4_a.click(function(){
            if(r4_a.css('cursor') == 'pointer'){
                audio[4].play();
                animacionEntrada(tache4, 'default', 1);
                respuestas.css('cursor', 'default');
                entradaP5();
            }
        });

        r4_b.click(function(){
            if(r4_b.css('cursor') == 'pointer'){
                audio[3].play();
                animacionEntrada(paloma4, 'default', 1);
                aciertos++;
                respuestas.css('cursor', 'default');
                entradaP5();
            }
        });

        
        // Pregunta 5--------------------------------------------------------
        function entradaP5(){
            animacionSalida(p4, 'default', 1, 2);
            animacionSalida(r4_a, 'default', 1, 2);
            animacionSalida(r4_b, 'default', 1, 2);
            animacionSalida(paloma4, 'default', 1, 2);
            animacionSalida(tache4, 'default', 1, 2);
            
            animacionEntrada(p5, 'default', 1, 2);
            animacionEntrada(respuestasDrag, 'default', 1, 2);
            animacionEntrada(drag1, 'derecha-izquierda', 1, 3);
            animacionEntrada(drag2, 'derecha-izquierda', 1, 3.5);
            animacionEntrada(drag3, 'derecha-izquierda', 1, 4);
            animacionEntrada(drag4, 'derecha-izquierda', 1, 4.5);
            animacionEntrada(drag5, 'derecha-izquierda', 1, 5);
            animacionEntrada(drag6, 'derecha-izquierda', 1, 5.5);

            relacionarOraciones();
        }

        function relacionarOraciones(){
            drags.draggable({
                revert: true,
                start: function( event, ui ) {
                    dragSelect = $(this).data('lugar');
                }
            });

            respuestasDrag.droppable({
                accept: drags,
                tolerance: "intersect",
                drop: function( event, ui ) {
                    dropSelect = $(this).data('lugar');
                    soltar();
                }
            });
        }

        function soltar(){
            // Selecionar los elementos correspondiente
            const dragActivo = $(`#drag${dragSelect}`);
            const dropActivo = $(`#drop${dropSelect}`);

            //Sacar el top y el left del drop 
            const dropTop = dropActivo.css('top');
            const dropLeft = dropActivo.css('left');

            //Posicionar el drag en el drop
            dragActivo.css({
                'top': dropTop,
                'left': dropLeft
            });

            //Deshabilitar el regreso
            dragActivo.draggable({
                disabled: true,
                revert: false,
            });

            dragsColocados++;

            if(dragSelect == dropSelect){
                audio[3].play();
                const paloma5 = $(`#paloma5_${dragSelect}`);
                animacionEntrada(paloma5, 'default', 1);
                aciertos++;
            }
            else{
                audio[4].play();
                const tache5 = $(`#tache5_${dropSelect}`);
                animacionEntrada(tache5, 'default', 1);
            }

            if(dragsColocados == 6){
                entradaP6();
            }
        }

        // Pregunta 6--------------------------------------------------
        function entradaP6(){
            animacionSalida(p5, 'default', 1, 2);
            animacionSalida(respuestasDrag, 'default', 1, 2);
            animacionSalida(drag1, 'default', 1, 2);
            animacionSalida(drag2, 'default', 1, 2);
            animacionSalida(drag3, 'default', 1, 2);
            animacionSalida(drag4, 'default', 1, 2);
            animacionSalida(drag5, 'default', 1, 2);
            animacionSalida(drag6, 'default', 1, 2);
            animacionSalida(iconos, 'default', 1, 2);

            animacionEntrada(p6, 'default', 1, 2);
            animacionEntrada(r6_a, 'default', 1, 2);
            animacionEntrada(r6_b, 'default', 1, 2);
            animacionEntrada(r6_c, 'default', 1, 2);
            setTimeout(()=>{
                respuestas.css('cursor', 'pointer');
            }, 2000);
        }

        r6_a.click(function(){
            if(r6_a.css('cursor') == 'pointer'){
                audio[3].play();
                animacionEntrada(paloma6, 'default', 1);
                respuestas.css('cursor', 'default');
                aciertos++;
                entradaP7();
            }
        });

        r6_b.click(function(){
            if(r6_b.css('cursor') == 'pointer'){
                audio[4].play();
                animacionEntrada(tache6, 'default', 1);
                respuestas.css('cursor', 'default');
                entradaP7();
            }
        });
        
        r6_c.click(function(){
            if(r6_c.css('cursor') == 'pointer'){
                audio[4].play();
                animacionEntrada(tache6_1, 'default', 1);
                respuestas.css('cursor', 'default');
                entradaP7();
            }
        });

        // Pregunta 7------------------------------------------------------
        function entradaP7(){
            animacionSalida(p6, 'default', 1, 2);
            animacionSalida(r6_a, 'default', 1, 2);
            animacionSalida(r6_b, 'default', 1, 2);
            animacionSalida(r6_c, 'default', 1, 2);
            animacionSalida(paloma6, 'default', 1, 2);
            animacionSalida(tache6, 'default', 1, 2);
            animacionSalida(tache6_1, 'default', 1, 2);

            animacionEntrada(p7, 'default', 1, 2);
            animacionEntrada(r7_a, 'default', 1, 2);
            animacionEntrada(r7_b, 'default', 1, 2);
            animacionEntrada(r7_c, 'default', 1, 2);
            setTimeout(()=>{
                respuestas.css('cursor', 'pointer');
            }, 2000);
        }

        r7_a.click(function(){
            if(r7_a.css('cursor') == 'pointer'){
                audio[4].play();
                animacionEntrada(tache7, 'default', 1);
                respuestas.css('cursor', 'default');
                salidaP();
            }
        });

        r7_b.click(function(){
            if(r7_b.css('cursor') == 'pointer'){
                audio[4].play();
                animacionEntrada(tache7_1, 'default', 1);
                respuestas.css('cursor', 'default');
                salidaP();
            }
        });
        
        r7_c.click(function(){
            if(r7_c.css('cursor') == 'pointer'){
                audio[3].play();
                animacionEntrada(paloma7, 'default', 1);
                respuestas.css('cursor', 'default');
                aciertos++;
                salidaP();
            }
        });

        function salidaP(){
            animacionSalida(p7, 'default', 1, 2);
            animacionSalida(r7_a, 'default', 1, 2);
            animacionSalida(r7_b, 'default', 1, 2);
            animacionSalida(r7_c, 'default', 1, 2);
            animacionSalida(paloma7, 'default', 1, 2);
            animacionSalida(tache7, 'default', 1, 2);
            animacionSalida(tache7_1, 'default', 1, 2);

            retroalimentacion();
        }

        //Retroalimentacion------------------------------------------------
        function retroalimentacion(){
            const aciertosGuardados = aplicacion.totalPuntos();
            const aciertosTotal = aciertos + aciertosGuardados;

            const promedio = ((aciertosTotal * 100) / 15).toFixed();

            const intentos = aplicacion.verIntento();

            if(promedio >= 80 && intentos <= 2){
                aplicacion.guardarCalificacion(promedio);
                retroPositiva(promedio);
            }
            else if(promedio < 80 && intentos == 1){
                aplicacion.guardarCalificacion(promedio);
                aplicacion.siguienteIntento();
                retroNegativa(promedio);
            }
            else{
                aplicacion.siguienteIntento();
                retroFinal(promedio);
            } 
        }

        function retroPositiva(promedio){

            calificacionFinal.html(promedio);
            calificacionFinal.css({
                'fontSize': '32px',
                'color': 'white', 
                'top': '256px', 
                'left': '550px',
            });

            aplicacion.reproducirAudio(audio[1], final, 1, 2);

            animacionEntrada(retroBuena, 'default', 1, 2);
            animacionEntrada(calificacionFinal, 'default', 1, 2);
        }

        function retroNegativa(){
            
            aplicacion.reproducirAudio(audio[2], reintentar, 1, 2);
            animacionEntrada(retroMala, 'default', 1, 2);
        }

        function reintentar(){
            parpadear(btnReintentar)
        }

        btnReintentar.click(function(){
            aplicacion.recargarPagina();
        });

        function final(){
            console.log('Final Curso');
        }


    </script>
</body>
</html>